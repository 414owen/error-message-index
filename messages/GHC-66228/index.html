<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noindex">
        <title>View pattern in expression context [GHC-66228] — Haskell Error Index</title>
        <link rel="stylesheet" href="../../css/default.css" />
        <link rel="stylesheet" href="../../css/highlight.css">
        <script src="../../js/highlight.min.js"></script>
    </head>
    <body>

        <main role="main">
            <nav class="breadcrumb">
              
                <a href="../../index.html">The Haskell Error Index</a>&nbsp;»
              
              View pattern in expression context [GHC-66228]
            </nav>
            <h1>View pattern in expression context [GHC-66228]</h1>
            

<p><i>Language extension: <code>ViewPatterns</code></i></p>


<p>A <a href="https://ghc.gitlab.haskell.org/ghc/doc/users_guide/exts/view_patterns.html">view pattern</a> allows pattern matching on the result of a function.
While most kinds of patterns look just like the expressions that construct the data that the pattern recognizes, view patterns don’t correspond directly to an expression.
This means that using them where an expression is expected is an error.</p>

<h2>Examples</h2>

<details open="open">
  <summary>Missing lambda</summary>
  <div class="example-container">
    <h2 id="message">Message</h2>
<pre><code>NotLambda.hs:3:9: error: [GHC-66228]
    View pattern in expression context: x -&gt; x
  |
3 | five = (x -&gt; x) 5
  |         ^^^^^^</code></pre>
<h2 id="explanation">Explanation</h2>
<p>In this example, the programmer forgot the <code>\</code> at the beginning of their anonymous function.
This caused the parser to recognize the function as a view pattern instead of a lambda.</p>

<table width="100%">
  
  <tr><td colspan="2" class="filename"><pre>NotLambda.hs</pre></td></tr>
  <tr>
    <td width="50%" class="beforeafter">Before</td>
    <td width="50%" class="beforeafter">After</td>
  </tr>
  <tr>
    <td>
      <pre><code class="language-haskell">module NotLambda where

five = (x -> x) 5
</code></pre>
    </td>
    <td>
      <pre><code class="language-haskell">module NotLambda where

five = (\x -> x) 5
</code></pre>
    </td>
  </tr>
  
</table>

  </div>
</details>

<details open="open">
  <summary>View pattern in expression</summary>
  <div class="example-container">
    <h2 id="message">Message</h2>
<pre><code>ViewPatternExpr.hs:3:6: error: [GHC-66228]
    View pattern in expression context: sqrt -&gt; y
  |
3 | h = (sqrt -&gt; y)
  |      ^^^^^^^^^</code></pre>
<h2 id="explanation">Explanation</h2>
<p>In this context, the view pattern is being used instead of a function.
The issue can be corrected by not using a view pattern.</p>

<table width="100%">
  
  <tr><td colspan="2" class="filename"><pre>ViewPatternExpr.hs</pre></td></tr>
  <tr>
    <td width="50%" class="beforeafter">Before</td>
    <td width="50%" class="beforeafter">After</td>
  </tr>
  <tr>
    <td>
      <pre><code class="language-haskell">module ViewPatternExpr where

h = (sqrt -> y)
</code></pre>
    </td>
    <td>
      <pre><code class="language-haskell">module ViewPatternExpr where

h = sqrt
</code></pre>
    </td>
  </tr>
  
</table>

  </div>
</details>


        </main>

        <footer>
          <p class="HF foot">
            This site is a project of <a href="https://haskell.foundation" target="_blank" rel="noopener noreferrer">The Haskell Foundation</a>.
          </p>
          <p class="shoutout foot">
            Site proudly generated by
            <a href="http://jaspervdj.be/hakyll" target="_blank" rel="noopener noreferrer">Hakyll</a>
          </p>
        </footer>

        <script>document.querySelectorAll('code.language-haskell').forEach(el => {
          hljs.highlightElement(el);
        });</script>
    </body>
</html>
